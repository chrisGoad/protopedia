<!DOCTYPE html>
  
<html>
<head>
<meta charset="UTF-8">
<meta name="description" content="JavaScript Prototypes in the Open">
<title>PrototypeJungle</title>
<link rel="stylesheet" type="text/css"  href="/style.css"> 
</head>
<body style="background-color:white">
	<script>
var shapes = {'arrow':'/sys/repo1|startchart/bar.js','rectangle':'/sys/repo1/chart|line1.js'};

var ready = function (fn) {
  if (document.readyState != 'loading'){
    fn();
  } else {
    document.addEventListener('DOMContentLoaded', fn);
  }
}

var mkClickFun = function (url) {
	return function () {
	  alert(url);
	}
}

ready(function () {
	console.log('aa');
	for (var name in shapes) {
		console.log('name',name);
		debugger;
		var url = shapes[name];
		var element = document.getElementById(name);
    if (element) {
      element.addEventListener('click',mkClickFun(url));
		}
	}	
})
</script>


<div id="arrow">Arrow</div>

</body>
</html>