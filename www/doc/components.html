<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
 <meta name="description" content="Wrangling JavaScript prototype chains for infographics">
<title>PrototypeJungle</title>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<link rel="stylesheet" type="text/css"  href="/style.css">
</head>
<body>
<script src="/min/min_{{version}}.js"></script>
<script>
$('document').ready(function () {
    var page = pj.page;
    page.genTopbar($('#topbar'),{includeTitle:1});
    page.addMessageListener();
    $('#Line1').click(function () {alert(22);});
});



</script>

<div id="outerContainer"> 
  <div id="topbar">
     <div id="topbarOuter" style="padding-bottom:30px"><span class="mainTitle">PrototypeJungle</span>
        <div id = "topbarInner" style="float:right"></div>
    </div>
  </div>

  
<div class="pageTitle">A Prototype-oriented Component System</div>


<p>  A(the?)  fundamental operation in JavaScript is instantiation via new f(), which creates an object which inherits from 
f.prototype. Object.create(x) is a newer, more direct alternative, whose result inherits from x itself.  I will refer to these operations as
 "prototypical instantiation"<sup><a href="#footnote">1</a></sup>. </p>
<p>PrototypeJungle lifts prototypical instantiation so that it applies at one blow to components of arbitrary complexity.
In the application area, this
mode of instantiation  works with infographic components
such as bubbles, bars, axes, legends, and, indeed, whole charts.  What are called "marks" in infographics are implemented as
instances
of a common prototype, modified as appropriate for the data points which they represent.  Here are some details:</p>



<p>The form of a component is 
 a   property/value tree  whose nodes are sometimes already connected by
prototype chains. Functions may appear in the tree, but only as leaves. Loosely but concisely, I refer to this  structure as
a "prototype tree".
  </p>

<p>Instantiation   takes the tree, and makes a deep copy, but only copies interior nodes. The copying step  reproduces
the prototype chain structure of the original, too, not just its tree structure. It does not copy atomic (numeric/string/function)
properties. Instead 
it anchors  the prototype chains of the new nodes back to the counterpart node in the old tree, so that the atomic properties come along
by inheritance. <!-- This may sound a bit complicated, but a year's experience indicates that it "does the right thing".--></p>


<p>Prototype trees have an external representation, completing the requirements for a component system. </P>

<p>Full details on Prototype Trees and the clone operator appear in the technical documentation.</p>

<p id="footnote" style="font-size:9pt"> 1. Note on terminology: The word "instantiate" refers most properly to creation of  an instance of a class, from which its use in JavaScript
terminology represents a slight deviation. I choose to stick with this deviation, since alternatives aren't quite exact either (eg "clone")</p>
</div>
</body>
</html>