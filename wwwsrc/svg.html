{{boilerplate}}

<script>

function showSvg() {
  debugger;
  var linkDiv,embedDiv;
  // from http://tutorialzine.com/2016/10/quick-tip-accessing-the-clipboard-with-javascript/
  var copyToClipboard =  function(div) {
    var range = document.createRange();
    var selection = window.getSelection();
    selection.removeAllRanges();
    range.selectNodeContents(div);
    selection.addRange(range);
    document.execCommand('copy');
  }
  var copyLinkToClipboard =  function() {
    copyToClipboard(linkDiv);
  }
   var copyEmbedToClipboard =  function() {
    copyToClipboard(embedDiv);
  }
  
  

  var q = pj.parseQuerystring();
  if (q.source) {
    var svgFile = pj.storageUrl(q.source);//decodeURIComponent(q.svg);
    var  img = document.getElementById('img');
    img.src = svgFile;
    linkDiv = document.getElementById('link');
    linkDiv.innerHTML = svgFile;
    embedDiv = document.getElementById('embed');
    embedDiv.innerHTML ='&ltimg width="50%" src="'+svgFile+'"/&gt;';
    var copyLinkButton = document.getElementById("copyLinkButton");
    copyLinkButton.addEventListener("click", copyLinkToClipboard,false);
    var copyEmbedButton = document.getElementById("copyEmbedButton");
    copyEmbedButton.addEventListener("click", copyEmbedToClipboard,false);
  }
}

   
pj.ready(showSvg);
 

</script>
 

<div id="main">
     <div>Link:</div><div id="link" style="width:100%;padding-bottom:10px;text-align:center" class="ubutton"></div>

   <div>Embed:</div><div id="embed" style="width:100%;padding-bottom:10px;text-align:center" class="ubutton"></div>
   <div style="padding-bottom:0px;text-align:center">
        <input  id="copyLinkButton" type="button" value="Copy Link to Clipboard"></input>

    <input  id="copyEmbedButton" type="button" value="Copy Embed to Clipboard"></input>
   </div>
   <div style="font-size:10pt;padding-bottom:20px;text-align:center">For embed, set width (or height) to taste</div>

   <img id='img' style="border:thin solid black" width="100%" />
</div>



{{endplate}}
